#
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

# Set root logger level to OFF to not flood build logs
# set manually to INFO for debugging purposes

global:
  name:
    [
        fullRestarts,
        fullRestartsRate,
        downtime,
        restartingTime,
        executionStateTime,
        executionFailNum,
        executionFailNumRate,
        executionStatus,
        noResourceAvailableException,
        currentOffsetsRate,
        consumerRecordsRate,
        numberOfFailedCheckpoints,
        totalNumberOfCheckpoints,
        numberOfSpeculation,
        numberOfSuccessfulSpeculation,
        numberOfRecoverableJobs,
        numberOfTaskRecoveries,
        numberOfGlobalFailures,
        numberOfRegionCheckpointJobs,
        numberOfRegionCheckpoints,
        numberOfRegionCheckpointRecoveries,
        checkpointWriteFileRate,
        checkpointWriteFileLatency,
        checkpointCloseFileLatency,
        connectSuccessRetryTimes,
        connectFailRetryTimes,
        numberOfContinuousCheckpointFailure,
        jobStartupCheckpointRestoreDelay,
        numberOfActualDeletedStateFiles,
        numberOfTotalDeletedStateFiles,
        numChannelsUpdatedByJM,
        numChannelsUpdatedByTask,
        numChannelsInjectedError,
        numChannelsUpdatedByTask,
        numPatternsAdded,
        numPatternsDropped,
        numPatternsUsed
    ]

non-global:
  substring:
    [
        rocksdb
    ]
  name:
    [
      # job info
        downtime,
        fullRestarts,
        executionFailNum,
        executionStatus,
        restartingTime,
        noResourceAvailableException,
      # TaskManager / Slot
        numRegisteredTaskManagers,
        numPendingTaskManagers,
        numPendingTaskManagerSlots,
        numPendingSlotRequests,
        taskSlotsTotal,
        taskSlotsAvailable,
        numLackSlots,
        numExcessWorkers,
        numLackWorkers,
      # Memory
        Used,
        Committed,
        Max,
      # GC
        Count,
        Time,
      # Task In/Out Queue
        inputQueueLength,
        outputQueueLength,
      # Task In/Out Pool Usage
        inPoolUsage,
        outPoolUsage,
      # In/Out Record Number
        numRecordsInPerSecond,
        numRecordsOutPerSecond,
        numRecordsDropped,
        numBuffersInDropped,
        numChannelsUpdatedByJM,
        numChannelsUpdatedByTask,
        numChannelsInjectedError,
        numChannelsCached,
      # late Records Dropped
        numLateRecordsDropped,
      # Lookup Table Metrics
        hitRate,
        lookupRequestPerSecond,
        lookupFailurePerSecond,
        lookupRequestDelay,
      # latency
        latency,
      # kafka offset
        currentOffsets,
        commit-rate,
      # kafka latency
        fetch-latency-avg,
        fetch-latency-max,
      # Network Memory
        TotalMemorySegments,
        AvailableMemorySegments,
        AllocatedMemorySegments,
      # speuclation
        numberOfSpeculation,
        numberOfSuccessfulSpeculation,
      # CPU
        Load,
      # Checkpoints
        numberOfTriggerFailedCheckpoints,
        lastCheckpointDuration,
        numberOfFailedCheckpoints,
        totalNumberOfCheckpoints,
        syncDuration,
        asyncDuration,
        numberOfContinuousCheckpointFailure,
        jobStartupCheckpointRestoreDelay,
        taskStartupRestoreDuration,
        keyedStateRestoreDuration,
        operatorStateRestoreDuration,
        lastCheckpointTotalSize,
        # Timer
        processingTimerTriggerCount,
        processingTimerLatencyMax,
        processingTimerLatencyMin,
      # Blacklist
        numTaskManagersInBlacklist,
      # number of skipped records in source
        skipDirty,
      # number of write failed in sink
        writeFailed,
      # yarn containers
        allocatedContainerNum,
        allocatedCPU,
        allocatedMemory,
        pendingCPU,
        pendingMemory,
        startingContainers,
        pendingRequestedContainerNum,
        slowContainerNum,
        totalRedundantContainerNum,
        pendingRedundantContainerNum,
        startingRedundantContainerNum,
        containerStartDurationMaxMs,
        speculativeSlowContainerTimeoutMs,
      # gang
        gangFailedNum,
        gangDowngradeNum,
      # recoverable individual failover
        numberOfTaskRecoveries,
        numberOfGlobalFailures,
        numberOfRecoverableJobs,
        blackedHost,
        completedContainer,
      # container descheduler
        descheduledContainers,
        deschedulerReceivedInfo,
        deschedulerHandleResult,
        deschedulerDurationMs,
      # state
        cacheHitCount,
        cacheMissCount,
        cacheRequestCount,
        cacheEvictCount,
        cacheLoadTime,
        cacheHitRate,
        cacheDeleteCount,
        cacheEvictWithWriteDiskCount,
        cacheLoadWithInvalidDataCount,
        totalDiskOperationCount,
        numberOfActualDeletedStateFiles,
        numberOfTotalDeletedStateFiles,
      # jm threadPool usage
        numPendingIOTask,
        numRunningIOTask,
        ioThreadPoolUsage,
        numPendingFutureTask,
        numRunningFutureTask,
        futureThreadPoolUsage,
      # cep
        numLateRecordsDropped,
        numLateRecordsOutput,
        numStateCleanerTriggered,
        numMatchedSequences,
        numUnMatchedSequences,
        numTimeOutSequences,
        advanceTimeDuration,
        processEventDuration,
        processMatchedDuration,
        processUnMatchDuration,
        processTimeoutDuration,
      # tm
        taskExecutorExecutionStateTime
    ]
